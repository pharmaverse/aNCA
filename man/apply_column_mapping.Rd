% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/apply_column_mapping.R
\name{apply_column_mapping}
\alias{apply_column_mapping}
\title{Apply UI-Based Column Mapping to a Dataset}
\usage{
apply_column_mapping(
  dataset,
  mapping,
  manual_units,
  column_groups,
  desired_order
)
}
\arguments{
\item{dataset}{A data frame containing the raw input data.}

\item{manual_units}{A list with named elements (\code{concentration}, \code{dose}, and \code{time})
specifying the manually selectable unit options for relevant columns.}

\item{input}{A Shiny input object containing the selected column mappings
from the user interface. Expected to include input IDs like \verb{select_<column_name>}.}
}
\value{
A transformed data frame with:
\itemize{
\item Renamed columns according to user mappings
\item Unit columns updated (if user-specified units are in \code{manual_units})
\item Concentration duplicates removed
\item Labels applied to columns (via \code{apply_labels()})
}
}
\description{
This function takes a dataset and applies user-specified column mappings
provided through a Shiny \code{input} object. It renames columns based
on the selected mappings, handles special cases such as \code{ADOSEDUR},
updates units for key variables, applies labels,
and removes detected duplicate concentration records.
}
\details{
\itemize{
\item Logs the mapping selections for debugging.
\item Validates that all required columns are mapped and no duplicates exist.
\item If \code{ADOSEDUR} is not mapped, it is assigned a value of \code{0}.
\item Removes concentration data duplicates using all columns except \code{ARRLT}, \code{NRRLT},
and \code{NCA_PROFILE}.
\item Uses global objects like \code{MAPPING_COLUMN_GROUPS}, \code{MAPPING_DESIRED_ORDER}, and \code{LABELS}.
}
}
