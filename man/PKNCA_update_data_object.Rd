% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/PKNCA.R
\name{PKNCA_update_data_object}
\alias{PKNCA_update_data_object}
\title{Create a PKNCAdata Object for NCA or Slope Analysis}
\usage{
PKNCA_update_data_object(
  adnca_data,
  method,
  selected_analytes,
  selected_profile,
  selected_pcspec,
  should_impute_c0 = TRUE,
  hl_adj_rules = NULL,
  exclusion_list = NULL
)
}
\arguments{
\item{adnca_data}{A reactive PKNCAdata object}

\item{method}{NCA calculation method selection}

\item{selected_analytes}{User selected analytes}

\item{selected_profile}{User selected dose numbers/profiles}

\item{selected_pcspec}{User selected specimen}

\item{hl_adj_rules}{A data frame containing half-life adjustment rules. It must
contain group columns and rule specification columns;
TYPE: (Inclusion, Exclusion), RANGE: (start-end).}
\item{should_impute_c0}{Logical indicating whether to impute start concentration values}

\item{exclusion_list}{List of exclusion reasons and row indices to apply to the
concentration data. Each item in the list should have:
\itemize{
\item reason: character string with the exclusion reason (e.g., "Vomiting")
\item rows: integer vector of row indices to apply the exclusion to
}}
}
\value{
A fully configured \code{PKNCAdata} object.
}
\description{
This function updates a previously prepared \code{PKNCAdata} object
based on user selections for method, analyte, dose, specimen, and parameters.
}
\details{
Step 1: Update units in the \code{PKNCAdata} object
ensuring unique analytes have their unique units

Step 2: Set \code{PKNCAoptions} for NCA calculation

Step 3: Format intervals using \code{format_pkncadata_intervals()}

Step 4: Apply filtering based on user selections and partial aucs

Step 5: Impute start values if requested

Step 6: Indicate points excluded / selected manually for half-life

Note*: The function assumes that the \code{adnca_data} object has been
created using the \code{PKNCA_create_data_object()} function.
}
