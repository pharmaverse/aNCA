<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Detect study types — detect_study_types • aNCA</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Detect study types — detect_study_types"><meta name="description" content="This function detects the type of study based on the provided data."><meta property="og:description" content="This function detects the type of study based on the provided data."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">aNCA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9168</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/aNCA.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-contributing" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Contributing</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-contributing"><li><a class="dropdown-item" href="../articles/contributing.html">Contributing</a></li>
    <li><a class="dropdown-item" href="../articles/adding_tlg.html">Adding TLGs</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pharmaverse/aNCA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Detect study types</h1>
      <small class="dont-index">Source: <a href="https://github.com/pharmaverse/aNCA/blob/main/R/detect_study_types.R" class="external-link"><code>R/detect_study_types.R</code></a></small>
      <div class="d-none name"><code>detect_study_types.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function detects the type of study based on the provided data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">detect_study_types</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">groups</span>,</span>
<span>  <span class="va">drug_column</span>,</span>
<span>  <span class="va">analyte_column</span>,</span>
<span>  <span class="va">route_column</span>,</span>
<span>  volume_column <span class="op">=</span> <span class="st">"volume"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The dataset containing the study types to be identified.
Assumed to be the output from aNCA formatted concentration data.
Must contain group columns, the specified route, analyte and drug columns,
and ADOSEDUR.</p></dd>


<dt id="arg-groups">groups<a class="anchor" aria-label="anchor" href="#arg-groups"></a></dt>
<dd><p>the grouping variables for the study type detection.</p></dd>


<dt id="arg-drug-column">drug_column<a class="anchor" aria-label="anchor" href="#arg-drug-column"></a></dt>
<dd><p>A character string specifying the
column name for drug</p></dd>


<dt id="arg-analyte-column">analyte_column<a class="anchor" aria-label="anchor" href="#arg-analyte-column"></a></dt>
<dd><p>A character string specifying the
column name for analyte</p></dd>


<dt id="arg-route-column">route_column<a class="anchor" aria-label="anchor" href="#arg-route-column"></a></dt>
<dd><p>A character string specifying the
column name for the route of administration.</p></dd>


<dt id="arg-volume-column">volume_column<a class="anchor" aria-label="anchor" href="#arg-volume-column"></a></dt>
<dd><p>A character string specifying the
column name for the volume of a sample. Extravascular
samples must be written as <code>extravascular</code>.
Can be set to <code>volume</code> if not applicable.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame summarizing the detected study types,
including the grouping columns and the identified type.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function identifies a possible five different types of studies
based on grouping by <code>STUDYID</code>, <code>DRUG</code>, <code>USUBJID</code>, <code>PCSPEC</code>, and the route column.
The study types are determined as follows:</p><ul><li><p>"Excretion Data": If the volume column for a group is not NA and has values &gt; 0.</p></li>
<li><p>"Single Extravascular Dose": If there is only one dose and TAU is not available,
and the route is extravascular.</p></li>
<li><p>"Single IV Infusion Dose": If there is only one dose and TAU is not present,
and the route is not extravascular.</p></li>
<li><p>"Single IV Bolus Dose": If there is only one dose and TAU is not present,
the route is not extravascular, and ADOSEDUR == 0.</p></li>
<li><p>"Multiple Extravascular Doses": If there are multiple doses (or TAU is available)
and the route is extravascular.</p></li>
<li><p>"Multiple IV Infusion Doses": If there are multiple doses (or TAU is available)
and the route is not extravascular.</p></li>
<li><p>"Multiple IV Bolus Doses": If there are multiple doses or TAU is not present,
the route is not extravascular, and ADOSEDUR == 0.</p></li>
<li><p>If none of these conditions are met, the type is marker as "Unknown".</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">sample_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  STUDYID <span class="op">=</span> <span class="st">"STUDY001"</span>,</span></span>
<span class="r-in"><span>  DRUG <span class="op">=</span> <span class="st">"Drug"</span>,</span></span>
<span class="r-in"><span>  ANALYTE <span class="op">=</span> <span class="st">"DRUG"</span>,</span></span>
<span class="r-in"><span>  USUBJID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="co"># 1. Single IV Dose subject</span></span></span>
<span class="r-in"><span>    <span class="st">"Subj-01"</span>, <span class="st">"Subj-01"</span>,</span></span>
<span class="r-in"><span>    <span class="co"># 2. Multiple Extravascular Doses subject (identified by TAU)</span></span></span>
<span class="r-in"><span>    <span class="st">"Subj-02"</span>, <span class="st">"Subj-02"</span>,</span></span>
<span class="r-in"><span>    <span class="co"># 3. Excretion Data subject (identified by positive volume)</span></span></span>
<span class="r-in"><span>    <span class="st">"Subj-03"</span>, <span class="st">"Subj-03"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  PCSPEC <span class="op">=</span> <span class="st">"PLASMA"</span>,</span></span>
<span class="r-in"><span>  DOSNOA <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fl">1</span>, <span class="fl">1</span>,        <span class="co"># Single dose</span></span></span>
<span class="r-in"><span>    <span class="fl">1</span>, <span class="fl">1</span>,        <span class="co"># Appears as single dose...</span></span></span>
<span class="r-in"><span>    <span class="fl">1</span>, <span class="fl">1</span>         <span class="co"># Single dose</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  ROUTE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"INTRAVENOUS"</span>, <span class="st">"INTRAVENOUS"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"extravascular"</span>, <span class="st">"extravascular"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"INTRAVENOUS"</span>, <span class="st">"INTRAVENOUS"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  ADOSEDUR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  SAMPLE_VOLUME <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="cn">NA</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="cn">NA</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="fl">10</span>, <span class="fl">12</span>       <span class="co"># Positive volume indicates excretion</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  TAU <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="cn">NA</span>, <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>    <span class="fl">24</span>, <span class="fl">24</span>,      <span class="co"># ...but TAU indicates a multiple-dose regimen</span></span></span>
<span class="r-in"><span>    <span class="cn">NA</span>, <span class="cn">NA</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">study_summary</span> <span class="op">&lt;-</span> <span class="fu">detect_study_types</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">sample_data</span>,</span></span>
<span class="r-in"><span>  groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"PCSPEC"</span>, <span class="st">"DRUG"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  drug_column <span class="op">=</span> <span class="st">"DRUG"</span>,</span></span>
<span class="r-in"><span>  analyte_column <span class="op">=</span> <span class="st">"ANALYTE"</span>,</span></span>
<span class="r-in"><span>  route_column <span class="op">=</span> <span class="st">"ROUTE"</span>,</span></span>
<span class="r-in"><span>  volume_column <span class="op">=</span> <span class="st">"SAMPLE_VOLUME"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ercan Suekuer, Gerardo Jose Rodriguez, Pascal Baertschi, Jana Spinner, Mateusz Kolomanski, Valentin Legras, F. Hoffmann-La Roche AG.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

